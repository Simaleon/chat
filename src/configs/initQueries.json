{
  "initQueries": [
    "CREATE TABLE IF NOT EXISTS \"users\" (\n    \"id\" SERIAL NOT NULL,\n    \"login\" TEXT NOT NULL UNIQUE,\n    \"hash\" CHAR(95) NOT NULL,\n    \"mail\" TEXT NULL DEFAULT NULL,\n    \"blocked\" BOOLEAN NULL DEFAULT NULL,\n    PRIMARY KEY (\"id\")\n);",
    "CREATE TABLE IF NOT EXISTS \"sessions\" (\n    \"user_id\" INTEGER NOT NULL,\n    \"token\" VARCHAR(37) NOT NULL,\n    \"expire\" TIMESTAMP NOT NULL,\n    \"is_session\" BOOLEAN NOT NULL,\n    CONSTRAINT \"FK__user_id\" FOREIGN KEY (\"user_id\") REFERENCES \"public\".\"users\" (\"id\") ON UPDATE NO ACTION ON DELETE NO ACTION\n)",
    "CREATE TABLE IF NOT EXISTS \"flying_messages\" (\n  \"id\" CHAR(37) NOT NULL,\n  \"user_id\" INTEGER NOT NULL,\n  \"message\" TEXT NOT NULL,\n  \"user_name\" TEXT NULL,\n  \"answers\" SMALLINT NOT NULL DEFAULT 0,\n  \"max_answers\" SMALLINT NOT NULL DEFAULT 5,\n  \"time\" TIMESTAMP NOT NULL DEFAULT NOW(),\n  PRIMARY KEY (\"id\"),\n  CONSTRAINT \"user_id\" FOREIGN KEY (\"user_id\") REFERENCES \"public\".\"users\" (\"id\") ON UPDATE NO ACTION ON DELETE NO ACTION\n)",
    "CREATE TABLE IF NOT EXISTS \"caught_messages\" (\n\t\"user_id\" INTEGER NOT NULL,\n\t\"msg_id\" CHAR(37) NOT NULL,\n\tCONSTRAINT \"msg_id\" FOREIGN KEY (\"msg_id\") REFERENCES \"public\".\"flying_messages\" (\"id\") ON UPDATE NO ACTION ON DELETE NO ACTION,\n\tCONSTRAINT \"user_id\" FOREIGN KEY (\"user_id\") REFERENCES \"public\".\"users\" (\"id\") ON UPDATE NO ACTION ON DELETE NO ACTION\n)",
    "CREATE TABLE IF NOT EXISTS \"dialogs\" (\n\t\"id\" BIGSERIAL NOT NULL,\n\t\"user_id_1\" INTEGER NOT NULL,\n\t\"user_name_1\" TEXT NULL,\n\t\"user_dialog_name_1\" TEXT NULL,\n\t\"user_id_2\" INTEGER NOT NULL,\n\t\"user_name_2\" TEXT NULL,\n\t\"user_dialog_name_2\" TEXT NULL,\n\t\"time\" TIMESTAMP NOT NULL  DEFAULT now(),\n\tPRIMARY KEY (\"id\"),\n\tCONSTRAINT \"user_id_1\" FOREIGN KEY (\"user_id_1\") REFERENCES \"public\".\"users\" (\"id\") ON UPDATE NO ACTION ON DELETE NO ACTION,\n\tCONSTRAINT \"user_id_2\" FOREIGN KEY (\"user_id_2\") REFERENCES \"public\".\"users\" (\"id\") ON UPDATE NO ACTION ON DELETE NO ACTION\n)",
    "CREATE TABLE IF NOT EXISTS \"messages\" (\n\t\"id\" BIGSERIAL NOT NULL,\n\t\"user_id\" INTEGER NOT NULL,\n\t\"reply_to\" BIGINT NULL REFERENCES messages(\"id\"),\n\t\"text\" TEXT NOT NULL,\n\t\"time\" TIMESTAMP NOT NULL DEFAULT now(),\n\t\"dialog_id\" BIGSERIAL NOT NULL,\n\tPRIMARY KEY (\"id\"),\n\tCONSTRAINT \"dialog_id\" FOREIGN KEY (\"dialog_id\") REFERENCES \"public\".\"dialogs\" (\"id\") ON UPDATE NO ACTION ON DELETE NO ACTION,\n\tCONSTRAINT \"user_id\" FOREIGN KEY (\"user_id\") REFERENCES \"public\".\"users\" (\"id\") ON UPDATE NO ACTION ON DELETE NO ACTION\n)"
  ]
}